<!DOCTYPE html>
<html lang="en"><head>
<script src="Clase_Inferencia_Causal_files/libs/clipboard/clipboard.min.js"></script>
<script src="Clase_Inferencia_Causal_files/libs/quarto-html/tabby.min.js"></script>
<script src="Clase_Inferencia_Causal_files/libs/quarto-html/popper.min.js"></script>
<script src="Clase_Inferencia_Causal_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="Clase_Inferencia_Causal_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Clase_Inferencia_Causal_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="Clase_Inferencia_Causal_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.2.335">

  <meta name="author" content="José Miguel Arias Mejía jmariasm1@eafit.edu.co">
  <title>Inferencia Causal</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="Clase_Inferencia_Causal_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="Clase_Inferencia_Causal_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="Clase_Inferencia_Causal_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link rel="stylesheet" href="styles.css">
  <link href="Clase_Inferencia_Causal_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="Clase_Inferencia_Causal_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="Clase_Inferencia_Causal_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="Clase_Inferencia_Causal_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title"><span style="color: darkblue;">Inferencia Causal</span></h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
José Miguel Arias Mejía<br><a href="mailto:jmariasm1@eafit.edu.co" style="font-size: 0.8em;">jmariasm1@eafit.edu.co</a> 
</div>
        <p class="quarto-title-affiliation">
            <br>Econometría 2<br>Pregrado de Economía<br>Universidad EAFIT
          </p>
    </div>
</div>

</section>
<section id="contenido" class="slide level2">
<h2>Contenido</h2>
<ol type="1">
<li><p>Referencias bibliográficas</p></li>
<li><p>¿Qué es causalidad?</p></li>
<li><p>Identificando la causalidad</p></li>
<li><p>Métodos experimentales</p>
<ol type="1">
<li>Ensayos aleatorizados (<em>Randomized Trials</em>)</li>
</ol></li>
<li><p>Métodos Observacionales o Cuasi-Experimentales</p>
<ol type="1">
<li><p>Diferencias en Diferencias (<em>Diff-in-Diff</em>)</p></li>
<li><p>Diseños de Regresión Discontinua (<em>RDD</em>)</p></li>
</ol></li>
<li><p>Conclusión</p></li>
</ol>
</section>
<section id="referencias-bibliográficas" class="slide level2">
<h2>Referencias bibliográficas</h2>
<ul>
<li><p><a href="https://press.princeton.edu/books/paperback/9780691152844/mastering-metrics?srsltid=AfmBOorIJeiHMtvblAU-KeAFvwhuNjP_d386KH4PxDuivspK8q46qO86">Angrist, J. D. &amp; Pischke J. (2015).</a> <em>Mastering ’Metrics: The Path from Cause to Effect</em>. Princeton Unitversity Press. Capítulos 1, 4 y 5.</p></li>
<li><p><a href="https://economia.uniandes.edu.co/publicaciones/libros/guia-practica-para-la-evaluacion-de-impacto">Bernal, R. &amp; Peña, X. (2011).</a><em>Guía práctica para la evaluación de impacto</em>. Universidad de los Andes. Capítulos 4, 5 y 8.</p></li>
<li><p><a href="https://voxdev.org/topic/how-are-econometric-methods-applied-researchers-development-economics">Dávila, P. &amp; Hanney, O. (2024)</a>. <em>How are econometric methods applied by researchers in development economics?</em> VoxDev Blog.</p></li>
<li><p><a href="https://openknowledge.worldbank.org/server/api/core/bitstreams/6f2eebf7-1a3c-5f67-a9c3-c39f68299ed9/content">Gertler, P. J., Martínez, S., Premand, P., Rawlings, L. B., &amp; Vermeersch, C. M. J. (2017)</a>. <em>La evaluación de impacto en la práctica</em>. 2° ed.&nbsp;Banco Mundial. Capítulos 4, 5 y 6.</p></li>
</ul>
</section>
<section id="qué-es-causalidad" class="slide level2">
<h2>¿Qué es causalidad?</h2>
<div class="cell">

</div>
<div class="columns">
<div class="column" style="width:40%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="Clase_Inferencia_Causal_files/figure-revealjs/unnamed-chunk-2-1.png" width="384"></p>
</div>
</div>
</div><div class="column" style="width:60%;">
<p>En ocasiones, nuestras variables pueden tener una relación causal (<span class="math inline">\(X\)</span> causa a <span class="math inline">\(Y\)</span>), sin embargo, también es posible que tengamos:</p>
<ul>
<li>Correlaciones espurias.</li>
<li>Factores omitidos.</li>
<li>Causalidad inversa.</li>
<li>Sesgos de selección.</li>
</ul>
<p>Estas situaciones pueden llevar a los <em>policymakers</em> a tomar decisiones equivocadas.</p>
</div>
</div>
</section>
<section id="correlación-no-implica-causalidad" class="slide level2">
<h2><em>“Correlación no implica causalidad”</em></h2>
<p>En una correlación espuria, dos variables parecen estar relacionadas entre sí (sus valores cambian juntos, aparentando una relación) pero en realidad no hay una conexión causal entre ellas. La relación aparente es falsa, y puede surgir por casualidad o por una tercera variable omitida.</p>

<img data-src="fig1_correlacion_espuria.png" width="650" class="r-stretch quarto-figure-center"><p class="caption">[Vigen, T. (s.f.)](https://www.tylervigen.com/spurious/correlation/5920_per-capita-consumption-of-margarine_correlates-with_the-divorce-rate-in-maine)</p></section>
<section id="identificando-la-causalidad" class="slide level2">
<h2>Identificando la causalidad</h2>
<p>Relación entre presencia policial y tasas de criminalidad en Carolina del Norte, entre 1981 y 1987.</p>
<div class="columns">
<div class="column">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = rcrmrte ~ lpolpc, data = Crime)

Residuals:
     Min       1Q   Median       3Q      Max 
-1.26065 -0.13341 -0.00217  0.13561  1.42218 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  1.64617    0.13033   12.63   &lt;2e-16 ***
lpolpc       0.25362    0.02001   12.67   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.2644 on 628 degrees of freedom
Multiple R-squared:  0.2036,    Adjusted R-squared:  0.2024 
F-statistic: 160.6 on 1 and 628 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
</div><div class="column">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="Clase_Inferencia_Causal_files/figure-revealjs/unnamed-chunk-4-1.png" width="384"></p>
</div>
</div>
</div>
</div>
</section>
<section id="identificando-la-causalidad-1" class="slide level2">
<h2>Identificando la causalidad</h2>
<div class="columns">
<div class="column">
<ul>
<li>¿Aumentar la presencia policial de verdad causa un incremento en las tasas de criminalidad?</li>
<li>¿Un aumento en las tasas de criminalidad lleva a mayor presencia policial? <em>(Causalidad inversa)</em></li>
<li>¿Será que aumentar la presencia policial no sirve para controlar la criminalidad? <em>(Impacto de la intervención)</em></li>
</ul>
<p>Requerimos algo más que una simple regresión para obtener respuestas a estas preguntas.</p>
</div><div class="column">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="Clase_Inferencia_Causal_files/figure-revealjs/unnamed-chunk-5-1.png" width="384"></p>
</div>
</div>
</div>
</div>
</section>
<section id="identificando-la-causalidad-2" class="slide level2">
<h2>Identificando la causalidad</h2>
<p>Para identificar relaciones de causalidad hay varias herramientas empíricas. La herramienta ideal son los <strong>experimentos</strong>, pero estos no siempre son factibles en las ciencias sociales, por lo que se hace necesario recurrir a los <strong>métodos observacionales</strong> (también llamados cuasi-experimentales).</p>
</section>
<section id="métodos-experimentales" class="slide level2">
<h2>Métodos experimentales</h2>
<p>Podemos hacer un experimento, en el que de forma controlada manipulamos una de las variables (p.e. la presencia policial) y evaluamos qué ocurre en la otra variable.</p>
<p>Pero esto tiene otras implicaciones:</p>
<ul>
<li>¿Podemos controlar el experimento, las demás variables y los factores externos?</li>
<li>¿Sería ético dejar a parte de la población sin presencia policial para obtener este resultado para la ciencia?</li>
<li>¿Cuál es el costo de hacer este tipo de experimentos? ¿Es fácil coordinarlo y obtener los resultados?</li>
<li>¿Qué validez tendría el experimento en otros lugares?</li>
</ul>
</section>
<section id="ensayos-aleatorizados-randomized-trials" class="slide level2">
<h2>Ensayos aleatorizados <em>(Randomized Trials)</em></h2>
<p>Son un método experimental que se caracteriza por la <strong>asignación aleatoria</strong> de la muestra.</p>
<p><strong>Asignación aleatoria:</strong> se asignan los individuos de la muestra a dos grupos al azar, garantizando que no haya diferencias adicionales entre ambos grupos <em>(Ley de los grandes números)</em>, lo que elimina el sesgo de selección:</p>
<ul>
<li><strong>Grupo de Tratamiento:</strong> aquellos que recibirán la intervención.</li>
<li><strong>Grupo de Control:</strong> aquellos que no recibirán la intervención.</li>
</ul>
<p>Se busca el efecto del tratamiento sobre los individuos del primer grupo, asumiendo que en ausencia de esta intervención, tendrían un resultado semejante al del segundo grupo, dado que las características de ambos grupos son las mismas.</p>
<p>Se considera que proporcionan la mejor evidencia en materia de inferencia causal. Pero pueden tener problemas de <strong>validez externa</strong> y dificultades éticas.</p>
</section>
<section id="ensayos-aleatorizados-randomized-trials-1" class="slide level2">
<h2>Ensayos aleatorizados <em>(Randomized Trials)</em></h2>
<p>Para los <span class="math inline">\(i\)</span> individuos, se tiene una <em>dummy</em> <span class="math inline">\(D_i = 1\)</span> en el grupo de tratamiento y <span class="math inline">\(D_i = 0\)</span> en el grupo de control. La variable dependiente es <span class="math inline">\(Y_i\)</span>: <span class="math inline">\(Y_{0i}\)</span> en los individuos no tratados, y <span class="math inline">\(Y_{1i}\)</span> en los tratados. Por la asignación aleatoria, sabemos que <span class="math inline">\(E[Y_{0i}|D_i=1]=E[Y_{0i}|D_i=0]\)</span> si no tratamos ningún individuo. Si <span class="math inline">\(Y_{1i}=Y_{0i}+\kappa\)</span>, entonces:</p>
<p><span class="math display">\[
E[Y_i|D_i=1]-E[Y_i|D_i=0]
\]</span></p>
<p><span class="math display">\[
= E[Y_{1i}|D_i=1]-E[Y_{0i}|D_i=0]
\]</span></p>
<p><span class="math display">\[
=E[Y_{0i}+\kappa|D_i=1]-E[Y_{0i}|D_i=0]
\]</span></p>
<p><span class="math display">\[
=\kappa + E[Y_{0i}|D_i=1]-E[Y_{0i}|D_i=0]
\]</span></p>
<p><span class="math display">\[
=\kappa
\]</span></p>
</section>
<section id="ensayos-aleatorizados-randomized-trials-2" class="slide level2">
<h2>Ensayos aleatorizados <em>(Randomized Trials)</em></h2>
<p>En conclusión, el efecto <span class="math inline">\(\kappa\)</span> de la intervención <span class="math inline">\(D_i\)</span> se encuentra mediante la diferencia en el resultado de los individuos tratados frente al resultado de los individuos no tratados.</p>

<img data-src="fig2_rct.jpeg" width="650" class="r-stretch quarto-figure-center"><p class="caption">[Simkus, J. (2024)](https://www.simplypsychology.org/randomized-controlled-trial.html)</p></section>
<section id="ensayos-aleatorizados-randomized-trials-3" class="slide level2">
<h2>Ensayos aleatorizados (<em>Randomized Trials</em>)</h2>
<p>Un ejemplo es el de <a href="https://danrogger.com/files/papers/Rogger%20et%20al_2023_Infrastructure%20and%20the%20Development%20of%20the%20Private%20Sector.pdf">Rogger et al (2023)</a>, quienes estudiaron el impacto del programa de mejoramiento de infraestructura pública de vivienda “Hábitat” sobre el desarrollo de las empresas privadas locales en 370 barrios seleccionados al azar de 68 ciudades mexicanas, comparando con barrios no elegidos para el programa.</p>

<img data-src="fig3_mapa_RCT.png" class="r-stretch quarto-figure-center"><p class="caption">[Rogger et al (2023)]</p></section>
<section id="ensayos-aleatorizados-randomized-trials-4" class="slide level2">
<h2>Ensayos aleatorizados (<em>Randomized Trials</em>)</h2>
<div class="columns">
<div class="column">
<p>El programa invertía en pavimentación, electrificación, construcción y mantenimiento de amenidades residenciales, centros comunitarios y escenarios deportivos.</p>
<p>En los barrios beneficiados se encontraron efectos al terminar el programa de inversiones e incluso seis años después: crecimiento de los salarios, ingresos y stocks de capital de empresas de servicios.</p>
</div><div class="column">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="https://danrogger.com/files/papers/Rogger%20et%20al_2023_Infrastructure%20and%20the%20Development%20of%20the%20Private%20Sector.pdf"><img data-src="fig4_tabla_reg_RCT.png"></a></p>
<p></p><figcaption>[Rogger et al (2023)]</figcaption><p></p>
</figure>
</div>
</div>
</div>
</section>
<section id="métodos-observacionales-o-cuasi-experimentales" class="slide level2">
<h2>Métodos Observacionales o Cuasi-Experimentales</h2>
<p>Cuando no es posible realizar un experimento, se debe recurrir a otras alternativas. Algunas de las más populares son:</p>
<ul>
<li>Variables instrumentales (IV).</li>
<li>Diferencias en diferencias (Diff-in-Diff).</li>
<li>Regresiones discontinuas (RDD).</li>
</ul>
</section>
<section id="diferencias-en-diferencias-diff-in-diff" class="slide level2">
<h2>Diferencias en diferencias <em>(Diff-in-Diff)</em></h2>
<ul>
<li><p>Se parte de dos grupos, un grupo que recibió una intervención, y otro que no la recibió.</p></li>
<li><p>Se asumen <strong>tendencias paralelas</strong>: el comportamiento de los individuos de ambos grupos, antes del tratamiento, es semejante. También habría sido semejante en caso de no haber recibido el tratamiento.</p></li>
</ul>

<img data-src="Clase_Inferencia_Causal_files/figure-revealjs/unnamed-chunk-6-1.png" width="960" class="r-stretch quarto-figure-center"></section>
<section id="diferencias-en-diferencias-diff-in-diff-1" class="slide level2">
<h2>Diferencias en diferencias <em>(Diff-in-Diff)</em></h2>
<ul>
<li><p>Se parte de dos grupos, un grupo que recibió una intervención, y otro que no la recibió.</p></li>
<li><p>Se asumen <strong>tendencias paralelas</strong>: el comportamiento de los individuos de ambos grupos, antes del tratamiento, es semejante. También habría sido semejante en caso de no haber recibido el tratamiento.</p></li>
</ul>

<img data-src="Clase_Inferencia_Causal_files/figure-revealjs/unnamed-chunk-7-1.png" width="960" class="r-stretch quarto-figure-center"></section>
<section id="diferencias-en-diferencias-diff-in-diff-2" class="slide level2">
<h2>Diferencias en diferencias <em>(Diff-in-Diff)</em></h2>
<p>Sea <span class="math inline">\(Y_{i,t}\)</span> la variable a evaluar para el individuo <span class="math inline">\(i\)</span> en el periodo <span class="math inline">\(t\)</span>, el estimador de diferencias en diferencias es:</p>
<p><span class="math display">\[
\delta_{DD}=(Y_{Tratamiento,Post}-Y_{Tratamiento,Pre})-(Y_{Control,Post}-Y_{Control,Pre})
\]</span></p>
<p>Es decir, se evalúa el cambio en el resultado para cada uno de los grupos, y luego se encuentra la diferencia entre ambos cambios. Bajo el supuesto de <strong>tendencias paralelas</strong>, esta diferencia se atribuye al hecho de haber recibido el tratamiento.</p>
<p>En una regresión lineal, podemos evaluar el efecto del tratamiento así:</p>
<p><span class="math display">\[
Y_{i,t}=\alpha + \beta Tratamiento_i + \gamma Post_t + \delta_{DD} (Tratamiento_i \times Post_t) + \epsilon_{i,t}
\]</span></p>
<p>Donde <span class="math inline">\(Tratamiento_i\)</span> y <span class="math inline">\(Post_t\)</span> son <em>dummies</em> que muestran si el individuo fue tratado (<span class="math inline">\(Tratamiento_i = 1\)</span>) o no (<span class="math inline">\(Tratamiento_i = 0\)</span>), y si el periodo es después (<span class="math inline">\(Post_t = 1\)</span>) o antes (<span class="math inline">\(Post_t = 0\)</span>) del tratamiento.</p>
</section>
<section id="diferencias-en-diferencias-diff-in-diff---ejercicio-en-r" class="slide level2">
<h2>Diferencias en diferencias <em>(Diff-in-Diff)</em> - Ejercicio en R</h2>
<p>*En 1973, el estado de Connecticut redujo la edad mínima para adquirir licor de 21 a 18 años. <a href="https://press.princeton.edu/books/paperback/9780691152844/mastering-metrics?srsltid=AfmBOorIJeiHMtvblAU-KeAFvwhuNjP_d386KH4PxDuivspK8q46qO86">Angrist &amp; Pischke (2011)</a> analizan este cambio de política.</p>
<p>*¿Qué efecto tuvo esto en las tasas de mortalidad en accidentes de tránsito de la población de 18 a 20 años?</p>
<p>*Comparemos estos datos con los de Arkansas, estado que mantuvo en 21 la edad mínima para adquirir licor.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="fu">library</span>(plm) <span class="co"># Librería para panel de datos</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="fu">library</span>(tidyverse) <span class="co"># Paquete de librerías para procesamiento y graficación</span></span>
<span id="cb2-3"><a href="#cb2-3"></a>Deaths <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"deaths.csv"</span>) <span class="co"># Cargamos base de datos</span></span>
<span id="cb2-4"><a href="#cb2-4"></a></span>
<span id="cb2-5"><a href="#cb2-5"></a>Deaths <span class="ot">&lt;-</span> Deaths <span class="sc">|&gt;</span></span>
<span id="cb2-6"><a href="#cb2-6"></a>  <span class="fu">filter</span>(state <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">5</span>,<span class="dv">9</span>), <span class="co"># Filtramos los estados 5 (Arkansas) y 9 (Connecticut)</span></span>
<span id="cb2-7"><a href="#cb2-7"></a>         agegr <span class="sc">==</span> <span class="st">"18-20 yrs"</span>, <span class="co"># Filtramos las edades que nos interesan</span></span>
<span id="cb2-8"><a href="#cb2-8"></a>         year <span class="sc">&lt;=</span> <span class="dv">1983</span>, <span class="co"># Filtramos el periodo de tiempo a evaluar</span></span>
<span id="cb2-9"><a href="#cb2-9"></a>         dtype <span class="sc">==</span> <span class="st">"MVA"</span>) <span class="sc">|&gt;</span>  <span class="co"># Filtramos para accidentes de tránsito</span></span>
<span id="cb2-10"><a href="#cb2-10"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(year, state, mrate) <span class="sc">|&gt;</span> <span class="co"># Seleccionamos las variables que nos interesan</span></span>
<span id="cb2-11"><a href="#cb2-11"></a>  <span class="fu">mutate</span>(<span class="at">Connecticut =</span> (state <span class="sc">==</span> <span class="dv">9</span>), <span class="co"># Creamos nuestra dummy de Estado (Que determina el tratamiento)</span></span>
<span id="cb2-12"><a href="#cb2-12"></a>         <span class="at">PostTreatment =</span> (year <span class="sc">&gt;=</span> <span class="dv">1973</span>)) <span class="co"># Creamos nuestra dummy de periodo (Que determina el tratamiento)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="diferencias-en-diferencias-diff-in-diff---ejercicio-en-r-1" class="slide level2">
<h2>Diferencias en diferencias <em>(Diff-in-Diff)</em> - Ejercicio en R</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> Deaths, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> mrate, <span class="at">color =</span> <span class="fu">factor</span>(state))) <span class="sc">+</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>  <span class="fu">geom_line</span>(<span class="at">lwd =</span> <span class="fl">1.1</span>) <span class="sc">+</span></span>
<span id="cb3-3"><a href="#cb3-3"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Año"</span>, <span class="at">y =</span> <span class="st">"Tasa de mortalidad en accidentes de tránsito, 18-20 años"</span>, <span class="at">color =</span> <span class="st">"Estado"</span>) <span class="sc">+</span></span>
<span id="cb3-4"><a href="#cb3-4"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fl">1972.5</span>, <span class="at">color =</span> <span class="st">"#123524"</span>, <span class="at">lty =</span> <span class="dv">3</span>, <span class="at">lwd =</span> <span class="fl">1.1</span>) <span class="sc">+</span></span>
<span id="cb3-5"><a href="#cb3-5"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"5"</span> <span class="ot">=</span> <span class="st">"turquoise"</span>, <span class="st">"9"</span> <span class="ot">=</span> <span class="st">"darkblue"</span>),</span>
<span id="cb3-6"><a href="#cb3-6"></a>                     <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"5"</span> <span class="ot">=</span> <span class="st">"Arkansas"</span>, <span class="st">"9"</span> <span class="ot">=</span> <span class="st">"Connecticut"</span>)) <span class="sc">+</span></span>
<span id="cb3-7"><a href="#cb3-7"></a>  <span class="fu">theme_classic</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Clase_Inferencia_Causal_files/figure-revealjs/unnamed-chunk-9-1.png" width="960" class="r-stretch quarto-figure-center"><ul>
<li>Se presentó una reducción de la mortalidad en accidentes de tránsito tras la venta legal de licor a esta población. ¿Qué más podemos decir al respecto?</li>
</ul>
</section>
<section id="diferencias-en-diferencias-diff-in-diff---ejercicio-en-r-2" class="slide level2">
<h2>Diferencias en diferencias <em>(Diff-in-Diff)</em> - Ejercicio en R</h2>
<p>El estimador de <em>diff-in-diff</em> nos dice que el efecto de este cambio en la política fue un aumento de la tasa de mortalidad anual de 35 de cada 100.000 habitantes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>diff_in_diff <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">data =</span> Deaths, mrate <span class="sc">~</span> Connecticut <span class="sc">+</span> PostTreatment <span class="sc">+</span> (Connecticut<span class="sc">*</span>PostTreatment))</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="fu">summary</span>(diff_in_diff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = mrate ~ Connecticut + PostTreatment + (Connecticut * 
    PostTreatment), data = Deaths)

Residuals:
    Min      1Q  Median      3Q     Max 
-18.067  -6.576  -1.244   6.410  19.489 

Coefficients:
                                  Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)                         79.348      5.922  13.399 1.23e-12 ***
ConnecticutTRUE                    -41.664      8.375  -4.975 4.43e-05 ***
PostTreatmentTRUE                  -25.512      6.681  -3.819 0.000832 ***
ConnecticutTRUE:PostTreatmentTRUE   34.986      9.448   3.703 0.001112 ** 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 10.26 on 24 degrees of freedom
Multiple R-squared:  0.5552,    Adjusted R-squared:  0.4996 
F-statistic: 9.986 on 3 and 24 DF,  p-value: 0.0001854</code></pre>
</div>
</div>
</section>
<section id="diseños-de-regresión-discontinua-rdd" class="slide level2">
<h2>Diseños de Regresión Discontinua <em>(RDD)</em></h2>
<ul>
<li>Se compara el desempeño de dos poblaciones similares que difieren en el hecho de haber recibido una intervención o no haberla recibido. La comparación se hace en el segmento de la muestra más cercano al punto de corte que determina la intervención o no. Se requiere que la muestra sea claramente separable en dos tramos.</li>
</ul>

<img data-src="Clase_Inferencia_Causal_files/figure-revealjs/unnamed-chunk-11-1.png" width="960" class="r-stretch quarto-figure-center"></section>
<section id="diseños-de-regresión-discontinua-rdd-1" class="slide level2">
<h2>Diseños de Regresión Discontinua <em>(RDD)</em></h2>
<p>Supuestos:</p>
<ul>
<li><p><strong>No manipulación:</strong> los individuos no pueden moverse de un tramo de la muestra al otro tramo.</p></li>
<li><p><strong>Continuidad:</strong> los individuos cercanos al umbral de la intervención, a ambos lados de este, son similares entre si.</p></li>
</ul>

<img data-src="Clase_Inferencia_Causal_files/figure-revealjs/unnamed-chunk-12-1.png" width="960" class="r-stretch quarto-figure-center"></section>
<section id="diseños-de-regresión-discontinua-rdd-2" class="slide level2">
<h2>Diseños de Regresión Discontinua <em>(RDD)</em></h2>
<p>Para modelar una regresión discontinua, incluimos el tratamiento <span class="math inline">\(D_i\)</span> como una <em>dummy</em> binaria en una regresión lineal en la que también tenemos en cuenta la variable <span class="math inline">\(X_i\)</span> sobre la cual se establece el umbral de corte <span class="math inline">\(c_0\)</span>, y otras variables de control.</p>
<p><span class="math display">\[
D_i = \begin{cases}
  1 &amp; \text{si }X_i\ge c_0\\    
  0 &amp; \text{si }X_i&lt;c_0    
\end{cases}
\]</span></p>
<p><span class="math display">\[
Y_i = \alpha + \beta X_i + \delta D_i + \epsilon_i
\]</span></p>
</section>
<section id="diseños-de-regresión-discontinua-rdd---ejercicio-en-r" class="slide level2">
<h2>Diseños de Regresión Discontinua <em>(RDD)</em> - Ejercicio en R</h2>
<p>Con datos ficticios, analizaremos el impacto de un programa de preparación para la admisión a la universidad.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>exams <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"exams.csv"</span>)</span>
<span id="cb6-2"><a href="#cb6-2"></a></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="fu">ggplot</span>(<span class="at">data =</span> exams, <span class="fu">aes</span>(<span class="at">x =</span> initial_test_score, <span class="at">y =</span> university_admission_score)) <span class="sc">+</span></span>
<span id="cb6-4"><a href="#cb6-4"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"darkblue"</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb6-5"><a href="#cb6-5"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Prueba de selección al programa"</span>, <span class="at">y =</span> <span class="st">"Examen de admisión a la universidad"</span>) <span class="sc">+</span></span>
<span id="cb6-6"><a href="#cb6-6"></a>  <span class="fu">theme_classic</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Clase_Inferencia_Causal_files/figure-revealjs/unnamed-chunk-13-1.png" width="960" class="r-stretch quarto-figure-center"></section>
<section id="diseños-de-regresión-discontinua-rdd---ejercicio-en-r-1" class="slide level2">
<h2>Diseños de Regresión Discontinua <em>(RDD)</em> - Ejercicio en R</h2>
<p>Si ejecutamos una regresión lineal por MCO…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>reg1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">data =</span> exams, university_admission_score <span class="sc">~</span> initial_test_score)</span>
<span id="cb7-2"><a href="#cb7-2"></a>beta0_1 <span class="ot">&lt;-</span> <span class="fu">coef</span>(reg1)[<span class="dv">1</span>]</span>
<span id="cb7-3"><a href="#cb7-3"></a>beta1_1 <span class="ot">&lt;-</span> <span class="fu">coef</span>(reg1)[<span class="dv">2</span>]</span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="fu">summary</span>(reg1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = university_admission_score ~ initial_test_score, 
    data = exams)

Residuals:
    Min      1Q  Median      3Q     Max 
-32.062  -9.430  -0.430   7.602  31.604 

Coefficients:
                   Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)         -36.197      5.700   -6.35 6.74e-09 ***
initial_test_score   28.738      1.617   17.77  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 14.36 on 98 degrees of freedom
Multiple R-squared:  0.7632,    Adjusted R-squared:  0.7608 
F-statistic: 315.8 on 1 and 98 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
</section>
<section id="diseños-de-regresión-discontinua-rdd---ejercicio-en-r-2" class="slide level2">
<h2>Diseños de Regresión Discontinua <em>(RDD)</em> - Ejercicio en R</h2>
<p>Si ejecutamos una regresión lineal por MCO…</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> exams, <span class="fu">aes</span>(<span class="at">x =</span> initial_test_score, <span class="at">y =</span> university_admission_score)) <span class="sc">+</span></span>
<span id="cb9-2"><a href="#cb9-2"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"darkblue"</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb9-3"><a href="#cb9-3"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Prueba de selección al programa"</span>, <span class="at">y =</span> <span class="st">"Examen de admisión a la universidad"</span>) <span class="sc">+</span></span>
<span id="cb9-4"><a href="#cb9-4"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">formula =</span> y<span class="sc">~</span>x, <span class="at">se =</span> <span class="cn">TRUE</span>, <span class="at">color =</span> <span class="st">"turquoise"</span>, <span class="at">fill =</span> <span class="st">"turquoise"</span>, <span class="at">lty =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb9-5"><a href="#cb9-5"></a>  <span class="fu">theme_classic</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Clase_Inferencia_Causal_files/figure-revealjs/unnamed-chunk-15-1.png" width="960" class="r-stretch quarto-figure-center"></section>
<section id="diseños-de-regresión-discontinua-rdd---ejercicio-en-r-3" class="slide level2">
<h2>Diseños de Regresión Discontinua <em>(RDD)</em> - Ejercicio en R</h2>
<p>Si ejecutamos una regresión por RDD…</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> exams, <span class="fu">aes</span>(<span class="at">x =</span> initial_test_score, <span class="at">y =</span> university_admission_score)) <span class="sc">+</span></span>
<span id="cb10-2"><a href="#cb10-2"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"darkblue"</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb10-3"><a href="#cb10-3"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="fl">3.5</span>, <span class="at">color =</span> <span class="st">"#123524"</span>, <span class="at">lty =</span> <span class="dv">3</span>, <span class="at">lwd =</span> <span class="fl">1.1</span>) <span class="sc">+</span></span>
<span id="cb10-4"><a href="#cb10-4"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">formula =</span> y <span class="sc">~</span> x, <span class="at">se =</span> <span class="cn">TRUE</span>, <span class="at">color =</span> <span class="st">"turquoise"</span>, <span class="at">fill =</span> <span class="st">"turquoise"</span>, <span class="at">lty =</span> <span class="dv">2</span>, <span class="at">lwd =</span> <span class="fl">1.1</span>, <span class="fu">aes</span>(<span class="at">group =</span> <span class="fu">factor</span>(passed_initial_test))) <span class="sc">+</span></span>
<span id="cb10-5"><a href="#cb10-5"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Prueba de selección al programa"</span>, <span class="at">y =</span> <span class="st">"Examen de admisión a la universidad"</span>) <span class="sc">+</span></span>
<span id="cb10-6"><a href="#cb10-6"></a>  <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb10-7"><a href="#cb10-7"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="Clase_Inferencia_Causal_files/figure-revealjs/unnamed-chunk-16-1.png" width="960" class="r-stretch quarto-figure-center"></section>
<section id="diseños-de-regresión-discontinua-rdd---ejercicio-en-r-4" class="slide level2">
<h2>Diseños de Regresión Discontinua <em>(RDD)</em> - Ejercicio en R</h2>
<p>Si ejecutamos una regresión por RDD…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>rdd <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">data =</span> exams, university_admission_score <span class="sc">~</span> initial_test_score <span class="sc">+</span> <span class="fu">factor</span>(passed_initial_test) <span class="sc">+</span> age <span class="sc">+</span> <span class="fu">factor</span>(gender) <span class="sc">+</span> family_income <span class="sc">+</span> <span class="fu">factor</span>(parental_education))</span>
<span id="cb11-2"><a href="#cb11-2"></a></span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="fu">summary</span>(rdd)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = university_admission_score ~ initial_test_score + 
    factor(passed_initial_test) + age + factor(gender) + family_income + 
    factor(parental_education), data = exams)

Residuals:
     Min       1Q   Median       3Q      Max 
-16.6289  -5.3996   0.4585   5.6918  18.6480 

Coefficients:
                                      Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)                          4.586e+00  1.842e+01   0.249  0.80388    
initial_test_score                   9.430e+00  1.937e+00   4.868 4.72e-06 ***
factor(passed_initial_test)1         4.104e+01  3.452e+00  11.887  &lt; 2e-16 ***
age                                  1.058e-01  1.019e+00   0.104  0.91756    
factor(gender)Male                   4.567e+00  1.655e+00   2.760  0.00699 ** 
family_income                        4.083e-06  7.513e-07   5.434 4.56e-07 ***
factor(parental_education)None      -1.533e+01  2.339e+00  -6.552 3.33e-09 ***
factor(parental_education)Primary   -1.025e+01  2.343e+00  -4.373 3.26e-05 ***
factor(parental_education)Secondary -7.614e+00  2.319e+00  -3.283  0.00146 ** 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 8.074 on 91 degrees of freedom
Multiple R-squared:  0.9305,    Adjusted R-squared:  0.9244 
F-statistic: 152.3 on 8 and 91 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
</section>
<section id="diseños-de-regresión-discontinua-rdd---ejercicio-en-r-5" class="slide level2">
<h2>Diseños de Regresión Discontinua <em>(RDD)</em> - Ejercicio en R</h2>
<p>Concluimos que, controlando por el puntaje de la prueba inicial y por otras variables, haber sido beneficiario del programa incrementó en 41 puntos el resultado del examen de admisión universitario.</p>
</section>
<section id="conclusión" class="slide level2">
<h2>Conclusión</h2>
<ul>
<li><p>Para la <strong>inferencia causal</strong> se requiere demostrar la relación causal entre dos variables, más halla de una correlación que puede resultar de problemas como:</p>
<ul>
<li>Correlación espuria</li>
<li>Sesgo de selección</li>
<li>Causalidad inversa</li>
<li>Factores omitidos</li>
</ul></li>
<li><p>Ante las dificultades técnicas y éticas de los <strong>métodos experimentales</strong>, se hace uso de <strong>métodos observacionales o cuasi-experimentales</strong> que incluyen:</p>
<ul>
<li>Variables instrumentales (IV).</li>
<li><strong>Diferencias en diferencias (Diff-in-Diff).</strong> Requiere del supuesto de tendencias paralelas.</li>
<li><strong>Regresiones discontinuas (RDD).</strong> Requiere de los supuestos de continuidad y no manipulación.</li>
</ul></li>
</ul>

<img src="logo_eafit.png" class="slide-logo r-stretch"><div class="footer footer-default">
<p>Inferencia causal</p>
</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="Clase_Inferencia_Causal_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="Clase_Inferencia_Causal_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="Clase_Inferencia_Causal_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="Clase_Inferencia_Causal_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="Clase_Inferencia_Causal_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="Clase_Inferencia_Causal_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="Clase_Inferencia_Causal_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="Clase_Inferencia_Causal_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="Clase_Inferencia_Causal_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="Clase_Inferencia_Causal_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'slide',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 5.0e-2,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>